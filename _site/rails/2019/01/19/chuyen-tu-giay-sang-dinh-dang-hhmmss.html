<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Chuyá»ƒn tá»« giÃ¢y sang Ä‘á»‹nh dáº¡ng hh:mm:ss | driedjack</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Chuyá»ƒn tá»« giÃ¢y sang Ä‘á»‹nh dáº¡ng hh:mm:ss" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="CÃ³ nhá»¯ng trÆ°á»ng há»£p ta cÃ³ sá»‘ liá»‡u thá»i gian lÃ  má»™t sá»‘ cÃ³ Ä‘Æ¡n vá»‹ thá»i gian Ä‘á»ƒ thuáº­n tiá»‡n tÃ­nh toÃ¡n trong cÃ¡c bÃ i toÃ¡n phÃ¢n tÃ­ch, thá»‘ng kÃª nhÆ° tÃ­nh tá»•ng, trung bÃ¬nh thá»i gian, â€¦ NhÆ°ng khi dÃ¹ng thá»ƒ hiá»‡n lÃªn mÃ n hÃ¬nh mÃ  Ä‘Ã­ch Ä‘áº¿n lÃ  ngÆ°á»i dÃ¹ng thÃ¬ cáº§n pháº£i Ä‘á»‹nh dáº¡ng lÆ°á»£ng thá»i gian Ä‘Ã³ theo kiá»ƒu mÃ  ngÆ°á»i dÃ¹ng quen hÃ¬nh dung vá» thá»i gian, vÃ­ dá»¥ nhÆ° 95:05:27 lÃ  95 tiáº¿ng 5 phÃºt 27 giÃ¢y cháº³ng háº¡n. BÃ i viáº¿t hÃ´m nay lÃ  Ä‘á»ƒ nÃ³i vá» viá»‡c chuyá»ƒn tá»« sá»‘ giÃ¢y sang Ä‘á»‹nh dáº¡ng nÃ y cá»™ng vá»›i viá»‡c táº¡i sao láº¡i viáº¿t vá» nÃ³. Ã tÆ°á»Ÿng viáº¿t bÃ i nÃ y Ä‘áº¿n tá»« thá»±c táº¿ trong cÃ´ng viá»‡c, muá»‘n hiá»ƒn thá»‹ trá»±c quan thá»i gian lÃªn mÃ n hÃ¬nh thá»i gian ngÆ°á»i dÃ¹ng trÃªn trang web. Vá»›i Ä‘áº§u vÃ o lÃ  sá»‘ giÃ¢y. ThÃ¬ khi gáº·p task má»›i, nhÆ° má»™t thÃ³i quen cá»§a lÃ­nh má»›i, mÃ¬nh mÃ² lÃªn google Ä‘á»ƒ tÃ¬m cÃ¡ch lÃ m. Má»™t vÃ i bÃ i tháº£o luáº­n trÃªn Stackoverflow cÃ³ nÃ³i vá» váº¥n Ä‘á» nÃ y, cÃ¡ch mÃ  há» dÃ¹ng lÃ  táº¡o má»™t Ä‘á»‘i tÆ°á»£ng thuá»™c lá»›p Time vá»›i thá»i gian tá»« sá»‘ giÃ¢y cá»§a mÃ¬nh. NhÆ°ng háº¡n cháº¿ cá»§a nÃ³ lÃ  chá»‰ Ä‘Ãºng vá»›i thá»i gian trong má»™t ngÃ y, náº¿u sá»‘ giÃ¢y lá»›n hÆ¡n sá»‘ giÃ¢y cá»§a má»™t ngÃ y thÃ¬ sá»‘ giá» cá»§a ngÃ y bá»‹ lá»‘ Ä‘Ã³ bá»‹ cáº¯t máº¥t. Time.at(seconds).utc.strftime(&#39;%H:%M:%S&#39;) # Vá»›i seconds tá»« 0 tá»›i (86400 - 1) thÃ¬ káº¿t quáº£ Ä‘Ãºng # --&gt; 53244s: &quot;14:47:24&quot; # Vá»›i seconds lá»›n hÆ¡n giÃ¡ trá»‹ má»™t ngÃ y thÃ¬ khÃ´ng Ä‘Ãºng nhÆ° mong muá»‘n # --&gt; 200000s: &quot;07:33:20&quot; (thay vÃ¬ &quot;55:33:20&quot;) Tháº¿ nÃªn mÃ¬nh dao kÃ©o láº¡i theo kiá»ƒu náº¿u sá»‘ giÃ¢y lá»›n hÆ¡n má»™t ngÃ y thÃ¬ sáº½ láº¥y sá»‘ giá» trá»™i cá»™ng vá»›i sá»‘ giá» theo hÃ m cÅ© tÃ­nh tá»« sá»‘ giÃ¢y sau khi Ä‘Ã£ trá»« ra sá»‘ giá» trá»™i áº¥y, sau Ä‘Ã³ ghÃ©p láº¡i vá»›i Ä‘uÃ´i phÃºt vÃ  giÃ¢y. def hms_style(seconds) hms = Time.at(seconds).utc.strftime(&#39;%H:%M:%S&#39;) days = seconds / Constant::SECONDS_IN_DAY return hms if days.zero? h, m, s = hms.split(&#39;:&#39;) &quot;#{h.to_i + days * 24}:#{m}:#{s}&quot; end # hms_style(200000) --&gt; &quot;55:33:20&quot; Bingo! Yeah, tháº¿ lÃ  xong, Ä‘Ã£ hoÃ n thÃ nh má»™t chá»©c nÄƒng Ä‘Æ¡n giáº£n, push code vÃ  chá» review thÃ´i. â€¦ Má»™t ngÃ y lÃ m viá»‡c trÃ´i qua, tá»‘i vá» cÃ¡i suy nghÄ© vá» chá»©c nÄƒng Ä‘Æ¡n giáº£n áº¥y váº©n vÆ¡ trong Ä‘áº§u. Táº¡i sao khi áº­p vÃ´ lÃ m mÃ¬nh khÃ´ng chá»‹u suy nghÄ© vá» nÃ³ trÆ°á»›c mÃ  láº¡i bay Ä‘i há»i ngÆ°á»i khÃ¡c nhÆ° tháº¿. Tháº¿ thÃ¬ mÃ¬nh cÃ³ tÆ° duy Ä‘Æ°á»£c chÃºt nÃ o khÃ´ng, cÃ³ há»c Ä‘Æ°á»£c cÃ¡ch giáº£i quyáº¿t váº¥n Ä‘á» khÃ´ng, hay chá»‰ há»c Ä‘Æ°á»£c cÃ¡ch Äƒn cáº¯p vÃ  Ä‘áº¡o nhÃ¡i Ã½ tÆ°á»Ÿng. Tháº¿ lÃ  mÃ¬nh quyáº¿t Ä‘á»‹nh ngá»“i xuá»‘ng vÃ  suy nghÄ© láº¡i vá» nÃ³. MÃ¬nh cáº£m nháº­n Ä‘Ã¢y Ä‘Æ¡n thuáº§n chá»‰ lÃ  xá»­ lÃ½ sá»‘ vÃ  chuyá»ƒn vá» kiá»ƒu chá»¯. DÃ¹ng tá»›i lá»›p Timeï»¿ chá»‰ lÃ  má»™t bÆ°á»›c dÃ¹ng sáºµn nhá»¯ng thá»© cÃ³ váº» lÃ  Ä‘Ãºng thÃ´i, vá»›i mÃ¬nh cÅ©ng cháº£ rÃµ bÃªn dÆ°á»›i cÃ¡i hÃ m Ä‘Ã³ thá»±c hiá»‡n nhá»¯ng gÃ¬ ná»¯a, liá»‡u lÃ m nhÆ° tháº¿ performance cÃ³ á»•n khÃ´ng vÃ  táº¡i sao láº¡i liÃªn quan Ä‘áº¿n lá»›p TimecÆ¡ chá»©. NhÆ° nÃ y, vá»›i sá»‘ giÃ¢y Ä‘Ã³, mÃ¬nh cÃ³ tÃ­nh ra Ä‘Æ°á»£c phÃºt vá»›i giá» khÃ´ng. ÄÆ°á»£c, báº±ng cÃ¡ch chia nÃ³ cho 60 (sá»‘ giÃ¢y cá»§a má»™t phÃºt) Ä‘Æ°á»£c pháº§n nguyÃªn cá»§a thÆ°Æ¡ng lÃ  sá»‘ phÃºt, pháº§n dÆ° ra chÃ­nh lÃ  sá»‘ giÃ¢y. Sá»‘ giÃ¢y khÃ´ng cáº§n pháº£i xá»­ lÃ½ ná»¯a nÃªn sáº½ lÃ  pháº§n giÃ¢y cá»§a káº¿t quáº£. Sá»‘ phÃºt Ä‘Ã³ cÃ³ thá»ƒ lá»›n hÆ¡n 60, váº­y thÃ¬ ta chia tiáº¿p cho 60 (sá»‘ phÃºt cá»§a má»™t giá») tÆ°Æ¡ng tá»± nhÆ° trÆ°á»›c Ä‘á»ƒ cÃ³ Ä‘Æ°á»£c sá»‘ giá» vÃ  sá»‘ phÃºt trá»“i ra. Giá» vÃ  phÃºt nÃ y chÃ­nh lÃ  káº¿t quáº£ mÃ¬nh muá»‘n. def hms_style(sec) min, s = sec.divmod 60 h, m = min.divmod 60 &quot;#{two_digits(h)}:#{two_digits(m)}:#{two_digits(s)}&quot; end private # Chuyá»ƒn tá»« má»™t chá»¯ sá»‘ sang hai chá»¯ sá»‘ def two_digits(number) &#39;%02i&#39; % number end Yeah, Ä‘Æ¡n giáº£n hÆ¡n rá»“i. MÃ¬nh Ä‘Ã£ cÃ³ thá»ƒ tá»± suy nghÄ© vÃ  tá»± giáº£i quyáº¿t bÃ i toÃ¡n rá»“i. ThÃªm ná»¯a, khi dÃ¹ng benchmark Ä‘á»ƒ Ä‘o thÃ¬ hÃ m má»›i nÃ y nhanh hÆ¡n hÃ m cÅ© ráº¥t nhiá»u. Ahihi. ğŸ¤© CÃ¡m Æ¡n Ä‘Ã£ Ä‘á»c bÃ i, cÃ³ gÃ¬ thÃ¬ tham gia bÃ¬nh luáº­n cho vui hÃ©n." />
<meta property="og:description" content="CÃ³ nhá»¯ng trÆ°á»ng há»£p ta cÃ³ sá»‘ liá»‡u thá»i gian lÃ  má»™t sá»‘ cÃ³ Ä‘Æ¡n vá»‹ thá»i gian Ä‘á»ƒ thuáº­n tiá»‡n tÃ­nh toÃ¡n trong cÃ¡c bÃ i toÃ¡n phÃ¢n tÃ­ch, thá»‘ng kÃª nhÆ° tÃ­nh tá»•ng, trung bÃ¬nh thá»i gian, â€¦ NhÆ°ng khi dÃ¹ng thá»ƒ hiá»‡n lÃªn mÃ n hÃ¬nh mÃ  Ä‘Ã­ch Ä‘áº¿n lÃ  ngÆ°á»i dÃ¹ng thÃ¬ cáº§n pháº£i Ä‘á»‹nh dáº¡ng lÆ°á»£ng thá»i gian Ä‘Ã³ theo kiá»ƒu mÃ  ngÆ°á»i dÃ¹ng quen hÃ¬nh dung vá» thá»i gian, vÃ­ dá»¥ nhÆ° 95:05:27 lÃ  95 tiáº¿ng 5 phÃºt 27 giÃ¢y cháº³ng háº¡n. BÃ i viáº¿t hÃ´m nay lÃ  Ä‘á»ƒ nÃ³i vá» viá»‡c chuyá»ƒn tá»« sá»‘ giÃ¢y sang Ä‘á»‹nh dáº¡ng nÃ y cá»™ng vá»›i viá»‡c táº¡i sao láº¡i viáº¿t vá» nÃ³. Ã tÆ°á»Ÿng viáº¿t bÃ i nÃ y Ä‘áº¿n tá»« thá»±c táº¿ trong cÃ´ng viá»‡c, muá»‘n hiá»ƒn thá»‹ trá»±c quan thá»i gian lÃªn mÃ n hÃ¬nh thá»i gian ngÆ°á»i dÃ¹ng trÃªn trang web. Vá»›i Ä‘áº§u vÃ o lÃ  sá»‘ giÃ¢y. ThÃ¬ khi gáº·p task má»›i, nhÆ° má»™t thÃ³i quen cá»§a lÃ­nh má»›i, mÃ¬nh mÃ² lÃªn google Ä‘á»ƒ tÃ¬m cÃ¡ch lÃ m. Má»™t vÃ i bÃ i tháº£o luáº­n trÃªn Stackoverflow cÃ³ nÃ³i vá» váº¥n Ä‘á» nÃ y, cÃ¡ch mÃ  há» dÃ¹ng lÃ  táº¡o má»™t Ä‘á»‘i tÆ°á»£ng thuá»™c lá»›p Time vá»›i thá»i gian tá»« sá»‘ giÃ¢y cá»§a mÃ¬nh. NhÆ°ng háº¡n cháº¿ cá»§a nÃ³ lÃ  chá»‰ Ä‘Ãºng vá»›i thá»i gian trong má»™t ngÃ y, náº¿u sá»‘ giÃ¢y lá»›n hÆ¡n sá»‘ giÃ¢y cá»§a má»™t ngÃ y thÃ¬ sá»‘ giá» cá»§a ngÃ y bá»‹ lá»‘ Ä‘Ã³ bá»‹ cáº¯t máº¥t. Time.at(seconds).utc.strftime(&#39;%H:%M:%S&#39;) # Vá»›i seconds tá»« 0 tá»›i (86400 - 1) thÃ¬ káº¿t quáº£ Ä‘Ãºng # --&gt; 53244s: &quot;14:47:24&quot; # Vá»›i seconds lá»›n hÆ¡n giÃ¡ trá»‹ má»™t ngÃ y thÃ¬ khÃ´ng Ä‘Ãºng nhÆ° mong muá»‘n # --&gt; 200000s: &quot;07:33:20&quot; (thay vÃ¬ &quot;55:33:20&quot;) Tháº¿ nÃªn mÃ¬nh dao kÃ©o láº¡i theo kiá»ƒu náº¿u sá»‘ giÃ¢y lá»›n hÆ¡n má»™t ngÃ y thÃ¬ sáº½ láº¥y sá»‘ giá» trá»™i cá»™ng vá»›i sá»‘ giá» theo hÃ m cÅ© tÃ­nh tá»« sá»‘ giÃ¢y sau khi Ä‘Ã£ trá»« ra sá»‘ giá» trá»™i áº¥y, sau Ä‘Ã³ ghÃ©p láº¡i vá»›i Ä‘uÃ´i phÃºt vÃ  giÃ¢y. def hms_style(seconds) hms = Time.at(seconds).utc.strftime(&#39;%H:%M:%S&#39;) days = seconds / Constant::SECONDS_IN_DAY return hms if days.zero? h, m, s = hms.split(&#39;:&#39;) &quot;#{h.to_i + days * 24}:#{m}:#{s}&quot; end # hms_style(200000) --&gt; &quot;55:33:20&quot; Bingo! Yeah, tháº¿ lÃ  xong, Ä‘Ã£ hoÃ n thÃ nh má»™t chá»©c nÄƒng Ä‘Æ¡n giáº£n, push code vÃ  chá» review thÃ´i. â€¦ Má»™t ngÃ y lÃ m viá»‡c trÃ´i qua, tá»‘i vá» cÃ¡i suy nghÄ© vá» chá»©c nÄƒng Ä‘Æ¡n giáº£n áº¥y váº©n vÆ¡ trong Ä‘áº§u. Táº¡i sao khi áº­p vÃ´ lÃ m mÃ¬nh khÃ´ng chá»‹u suy nghÄ© vá» nÃ³ trÆ°á»›c mÃ  láº¡i bay Ä‘i há»i ngÆ°á»i khÃ¡c nhÆ° tháº¿. Tháº¿ thÃ¬ mÃ¬nh cÃ³ tÆ° duy Ä‘Æ°á»£c chÃºt nÃ o khÃ´ng, cÃ³ há»c Ä‘Æ°á»£c cÃ¡ch giáº£i quyáº¿t váº¥n Ä‘á» khÃ´ng, hay chá»‰ há»c Ä‘Æ°á»£c cÃ¡ch Äƒn cáº¯p vÃ  Ä‘áº¡o nhÃ¡i Ã½ tÆ°á»Ÿng. Tháº¿ lÃ  mÃ¬nh quyáº¿t Ä‘á»‹nh ngá»“i xuá»‘ng vÃ  suy nghÄ© láº¡i vá» nÃ³. MÃ¬nh cáº£m nháº­n Ä‘Ã¢y Ä‘Æ¡n thuáº§n chá»‰ lÃ  xá»­ lÃ½ sá»‘ vÃ  chuyá»ƒn vá» kiá»ƒu chá»¯. DÃ¹ng tá»›i lá»›p Timeï»¿ chá»‰ lÃ  má»™t bÆ°á»›c dÃ¹ng sáºµn nhá»¯ng thá»© cÃ³ váº» lÃ  Ä‘Ãºng thÃ´i, vá»›i mÃ¬nh cÅ©ng cháº£ rÃµ bÃªn dÆ°á»›i cÃ¡i hÃ m Ä‘Ã³ thá»±c hiá»‡n nhá»¯ng gÃ¬ ná»¯a, liá»‡u lÃ m nhÆ° tháº¿ performance cÃ³ á»•n khÃ´ng vÃ  táº¡i sao láº¡i liÃªn quan Ä‘áº¿n lá»›p TimecÆ¡ chá»©. NhÆ° nÃ y, vá»›i sá»‘ giÃ¢y Ä‘Ã³, mÃ¬nh cÃ³ tÃ­nh ra Ä‘Æ°á»£c phÃºt vá»›i giá» khÃ´ng. ÄÆ°á»£c, báº±ng cÃ¡ch chia nÃ³ cho 60 (sá»‘ giÃ¢y cá»§a má»™t phÃºt) Ä‘Æ°á»£c pháº§n nguyÃªn cá»§a thÆ°Æ¡ng lÃ  sá»‘ phÃºt, pháº§n dÆ° ra chÃ­nh lÃ  sá»‘ giÃ¢y. Sá»‘ giÃ¢y khÃ´ng cáº§n pháº£i xá»­ lÃ½ ná»¯a nÃªn sáº½ lÃ  pháº§n giÃ¢y cá»§a káº¿t quáº£. Sá»‘ phÃºt Ä‘Ã³ cÃ³ thá»ƒ lá»›n hÆ¡n 60, váº­y thÃ¬ ta chia tiáº¿p cho 60 (sá»‘ phÃºt cá»§a má»™t giá») tÆ°Æ¡ng tá»± nhÆ° trÆ°á»›c Ä‘á»ƒ cÃ³ Ä‘Æ°á»£c sá»‘ giá» vÃ  sá»‘ phÃºt trá»“i ra. Giá» vÃ  phÃºt nÃ y chÃ­nh lÃ  káº¿t quáº£ mÃ¬nh muá»‘n. def hms_style(sec) min, s = sec.divmod 60 h, m = min.divmod 60 &quot;#{two_digits(h)}:#{two_digits(m)}:#{two_digits(s)}&quot; end private # Chuyá»ƒn tá»« má»™t chá»¯ sá»‘ sang hai chá»¯ sá»‘ def two_digits(number) &#39;%02i&#39; % number end Yeah, Ä‘Æ¡n giáº£n hÆ¡n rá»“i. MÃ¬nh Ä‘Ã£ cÃ³ thá»ƒ tá»± suy nghÄ© vÃ  tá»± giáº£i quyáº¿t bÃ i toÃ¡n rá»“i. ThÃªm ná»¯a, khi dÃ¹ng benchmark Ä‘á»ƒ Ä‘o thÃ¬ hÃ m má»›i nÃ y nhanh hÆ¡n hÃ m cÅ© ráº¥t nhiá»u. Ahihi. ğŸ¤© CÃ¡m Æ¡n Ä‘Ã£ Ä‘á»c bÃ i, cÃ³ gÃ¬ thÃ¬ tham gia bÃ¬nh luáº­n cho vui hÃ©n." />
<link rel="canonical" href="http://localhost:4000/rails/2019/01/19/chuyen-tu-giay-sang-dinh-dang-hhmmss.html" />
<meta property="og:url" content="http://localhost:4000/rails/2019/01/19/chuyen-tu-giay-sang-dinh-dang-hhmmss.html" />
<meta property="og:site_name" content="driedjack" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-01-19T00:00:00+07:00" />
<script type="application/ld+json">
{"headline":"Chuyá»ƒn tá»« giÃ¢y sang Ä‘á»‹nh dáº¡ng hh:mm:ss","dateModified":"2019-01-19T00:00:00+07:00","url":"http://localhost:4000/rails/2019/01/19/chuyen-tu-giay-sang-dinh-dang-hhmmss.html","datePublished":"2019-01-19T00:00:00+07:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/rails/2019/01/19/chuyen-tu-giay-sang-dinh-dang-hhmmss.html"},"description":"CÃ³ nhá»¯ng trÆ°á»ng há»£p ta cÃ³ sá»‘ liá»‡u thá»i gian lÃ  má»™t sá»‘ cÃ³ Ä‘Æ¡n vá»‹ thá»i gian Ä‘á»ƒ thuáº­n tiá»‡n tÃ­nh toÃ¡n trong cÃ¡c bÃ i toÃ¡n phÃ¢n tÃ­ch, thá»‘ng kÃª nhÆ° tÃ­nh tá»•ng, trung bÃ¬nh thá»i gian, â€¦ NhÆ°ng khi dÃ¹ng thá»ƒ hiá»‡n lÃªn mÃ n hÃ¬nh mÃ  Ä‘Ã­ch Ä‘áº¿n lÃ  ngÆ°á»i dÃ¹ng thÃ¬ cáº§n pháº£i Ä‘á»‹nh dáº¡ng lÆ°á»£ng thá»i gian Ä‘Ã³ theo kiá»ƒu mÃ  ngÆ°á»i dÃ¹ng quen hÃ¬nh dung vá» thá»i gian, vÃ­ dá»¥ nhÆ° 95:05:27 lÃ  95 tiáº¿ng 5 phÃºt 27 giÃ¢y cháº³ng háº¡n. BÃ i viáº¿t hÃ´m nay lÃ  Ä‘á»ƒ nÃ³i vá» viá»‡c chuyá»ƒn tá»« sá»‘ giÃ¢y sang Ä‘á»‹nh dáº¡ng nÃ y cá»™ng vá»›i viá»‡c táº¡i sao láº¡i viáº¿t vá» nÃ³. Ã tÆ°á»Ÿng viáº¿t bÃ i nÃ y Ä‘áº¿n tá»« thá»±c táº¿ trong cÃ´ng viá»‡c, muá»‘n hiá»ƒn thá»‹ trá»±c quan thá»i gian lÃªn mÃ n hÃ¬nh thá»i gian ngÆ°á»i dÃ¹ng trÃªn trang web. Vá»›i Ä‘áº§u vÃ o lÃ  sá»‘ giÃ¢y. ThÃ¬ khi gáº·p task má»›i, nhÆ° má»™t thÃ³i quen cá»§a lÃ­nh má»›i, mÃ¬nh mÃ² lÃªn google Ä‘á»ƒ tÃ¬m cÃ¡ch lÃ m. Má»™t vÃ i bÃ i tháº£o luáº­n trÃªn Stackoverflow cÃ³ nÃ³i vá» váº¥n Ä‘á» nÃ y, cÃ¡ch mÃ  há» dÃ¹ng lÃ  táº¡o má»™t Ä‘á»‘i tÆ°á»£ng thuá»™c lá»›p Time vá»›i thá»i gian tá»« sá»‘ giÃ¢y cá»§a mÃ¬nh. NhÆ°ng háº¡n cháº¿ cá»§a nÃ³ lÃ  chá»‰ Ä‘Ãºng vá»›i thá»i gian trong má»™t ngÃ y, náº¿u sá»‘ giÃ¢y lá»›n hÆ¡n sá»‘ giÃ¢y cá»§a má»™t ngÃ y thÃ¬ sá»‘ giá» cá»§a ngÃ y bá»‹ lá»‘ Ä‘Ã³ bá»‹ cáº¯t máº¥t. Time.at(seconds).utc.strftime(&#39;%H:%M:%S&#39;) # Vá»›i seconds tá»« 0 tá»›i (86400 - 1) thÃ¬ káº¿t quáº£ Ä‘Ãºng # --&gt; 53244s: &quot;14:47:24&quot; # Vá»›i seconds lá»›n hÆ¡n giÃ¡ trá»‹ má»™t ngÃ y thÃ¬ khÃ´ng Ä‘Ãºng nhÆ° mong muá»‘n # --&gt; 200000s: &quot;07:33:20&quot; (thay vÃ¬ &quot;55:33:20&quot;) Tháº¿ nÃªn mÃ¬nh dao kÃ©o láº¡i theo kiá»ƒu náº¿u sá»‘ giÃ¢y lá»›n hÆ¡n má»™t ngÃ y thÃ¬ sáº½ láº¥y sá»‘ giá» trá»™i cá»™ng vá»›i sá»‘ giá» theo hÃ m cÅ© tÃ­nh tá»« sá»‘ giÃ¢y sau khi Ä‘Ã£ trá»« ra sá»‘ giá» trá»™i áº¥y, sau Ä‘Ã³ ghÃ©p láº¡i vá»›i Ä‘uÃ´i phÃºt vÃ  giÃ¢y. def hms_style(seconds) hms = Time.at(seconds).utc.strftime(&#39;%H:%M:%S&#39;) days = seconds / Constant::SECONDS_IN_DAY return hms if days.zero? h, m, s = hms.split(&#39;:&#39;) &quot;#{h.to_i + days * 24}:#{m}:#{s}&quot; end # hms_style(200000) --&gt; &quot;55:33:20&quot; Bingo! Yeah, tháº¿ lÃ  xong, Ä‘Ã£ hoÃ n thÃ nh má»™t chá»©c nÄƒng Ä‘Æ¡n giáº£n, push code vÃ  chá» review thÃ´i. â€¦ Má»™t ngÃ y lÃ m viá»‡c trÃ´i qua, tá»‘i vá» cÃ¡i suy nghÄ© vá» chá»©c nÄƒng Ä‘Æ¡n giáº£n áº¥y váº©n vÆ¡ trong Ä‘áº§u. Táº¡i sao khi áº­p vÃ´ lÃ m mÃ¬nh khÃ´ng chá»‹u suy nghÄ© vá» nÃ³ trÆ°á»›c mÃ  láº¡i bay Ä‘i há»i ngÆ°á»i khÃ¡c nhÆ° tháº¿. Tháº¿ thÃ¬ mÃ¬nh cÃ³ tÆ° duy Ä‘Æ°á»£c chÃºt nÃ o khÃ´ng, cÃ³ há»c Ä‘Æ°á»£c cÃ¡ch giáº£i quyáº¿t váº¥n Ä‘á» khÃ´ng, hay chá»‰ há»c Ä‘Æ°á»£c cÃ¡ch Äƒn cáº¯p vÃ  Ä‘áº¡o nhÃ¡i Ã½ tÆ°á»Ÿng. Tháº¿ lÃ  mÃ¬nh quyáº¿t Ä‘á»‹nh ngá»“i xuá»‘ng vÃ  suy nghÄ© láº¡i vá» nÃ³. MÃ¬nh cáº£m nháº­n Ä‘Ã¢y Ä‘Æ¡n thuáº§n chá»‰ lÃ  xá»­ lÃ½ sá»‘ vÃ  chuyá»ƒn vá» kiá»ƒu chá»¯. DÃ¹ng tá»›i lá»›p Timeï»¿ chá»‰ lÃ  má»™t bÆ°á»›c dÃ¹ng sáºµn nhá»¯ng thá»© cÃ³ váº» lÃ  Ä‘Ãºng thÃ´i, vá»›i mÃ¬nh cÅ©ng cháº£ rÃµ bÃªn dÆ°á»›i cÃ¡i hÃ m Ä‘Ã³ thá»±c hiá»‡n nhá»¯ng gÃ¬ ná»¯a, liá»‡u lÃ m nhÆ° tháº¿ performance cÃ³ á»•n khÃ´ng vÃ  táº¡i sao láº¡i liÃªn quan Ä‘áº¿n lá»›p TimecÆ¡ chá»©. NhÆ° nÃ y, vá»›i sá»‘ giÃ¢y Ä‘Ã³, mÃ¬nh cÃ³ tÃ­nh ra Ä‘Æ°á»£c phÃºt vá»›i giá» khÃ´ng. ÄÆ°á»£c, báº±ng cÃ¡ch chia nÃ³ cho 60 (sá»‘ giÃ¢y cá»§a má»™t phÃºt) Ä‘Æ°á»£c pháº§n nguyÃªn cá»§a thÆ°Æ¡ng lÃ  sá»‘ phÃºt, pháº§n dÆ° ra chÃ­nh lÃ  sá»‘ giÃ¢y. Sá»‘ giÃ¢y khÃ´ng cáº§n pháº£i xá»­ lÃ½ ná»¯a nÃªn sáº½ lÃ  pháº§n giÃ¢y cá»§a káº¿t quáº£. Sá»‘ phÃºt Ä‘Ã³ cÃ³ thá»ƒ lá»›n hÆ¡n 60, váº­y thÃ¬ ta chia tiáº¿p cho 60 (sá»‘ phÃºt cá»§a má»™t giá») tÆ°Æ¡ng tá»± nhÆ° trÆ°á»›c Ä‘á»ƒ cÃ³ Ä‘Æ°á»£c sá»‘ giá» vÃ  sá»‘ phÃºt trá»“i ra. Giá» vÃ  phÃºt nÃ y chÃ­nh lÃ  káº¿t quáº£ mÃ¬nh muá»‘n. def hms_style(sec) min, s = sec.divmod 60 h, m = min.divmod 60 &quot;#{two_digits(h)}:#{two_digits(m)}:#{two_digits(s)}&quot; end private # Chuyá»ƒn tá»« má»™t chá»¯ sá»‘ sang hai chá»¯ sá»‘ def two_digits(number) &#39;%02i&#39; % number end Yeah, Ä‘Æ¡n giáº£n hÆ¡n rá»“i. MÃ¬nh Ä‘Ã£ cÃ³ thá»ƒ tá»± suy nghÄ© vÃ  tá»± giáº£i quyáº¿t bÃ i toÃ¡n rá»“i. ThÃªm ná»¯a, khi dÃ¹ng benchmark Ä‘á»ƒ Ä‘o thÃ¬ hÃ m má»›i nÃ y nhanh hÆ¡n hÃ m cÅ© ráº¥t nhiá»u. Ahihi. ğŸ¤© CÃ¡m Æ¡n Ä‘Ã£ Ä‘á»c bÃ i, cÃ³ gÃ¬ thÃ¬ tham gia bÃ¬nh luáº­n cho vui hÃ©n.","@type":"BlogPosting","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="driedjack" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">driedjack</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">ThÃ´ng tin</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Chuyá»ƒn tá»« giÃ¢y sang Ä‘á»‹nh dáº¡ng hh:mm:ss</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2019-01-19T00:00:00+07:00" itemprop="datePublished">Jan 19, 2019
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p><em>CÃ³ nhá»¯ng trÆ°á»ng há»£p ta cÃ³ sá»‘ liá»‡u thá»i gian lÃ  má»™t sá»‘ cÃ³ Ä‘Æ¡n vá»‹ thá»i gian Ä‘á»ƒ thuáº­n tiá»‡n tÃ­nh toÃ¡n trong cÃ¡c bÃ i toÃ¡n phÃ¢n tÃ­ch, thá»‘ng kÃª nhÆ° tÃ­nh tá»•ng, trung bÃ¬nh thá»i gian, â€¦ NhÆ°ng khi dÃ¹ng thá»ƒ hiá»‡n lÃªn mÃ n hÃ¬nh mÃ  Ä‘Ã­ch Ä‘áº¿n lÃ  ngÆ°á»i dÃ¹ng thÃ¬ cáº§n pháº£i Ä‘á»‹nh dáº¡ng lÆ°á»£ng thá»i gian Ä‘Ã³ theo kiá»ƒu mÃ  ngÆ°á»i dÃ¹ng quen hÃ¬nh dung vá» thá»i gian, vÃ­ dá»¥ nhÆ° <strong>95:05:27</strong> lÃ  95 tiáº¿ng 5 phÃºt 27 giÃ¢y cháº³ng háº¡n. BÃ i viáº¿t hÃ´m nay lÃ  Ä‘á»ƒ nÃ³i vá» viá»‡c chuyá»ƒn tá»« sá»‘ giÃ¢y sang Ä‘á»‹nh dáº¡ng nÃ y cá»™ng vá»›i viá»‡c táº¡i sao láº¡i viáº¿t vá» nÃ³.</em></p>

<p>Ã tÆ°á»Ÿng viáº¿t bÃ i nÃ y Ä‘áº¿n tá»« thá»±c táº¿ trong cÃ´ng viá»‡c, muá»‘n hiá»ƒn thá»‹ trá»±c quan thá»i gian lÃªn mÃ n hÃ¬nh thá»i gian ngÆ°á»i dÃ¹ng trÃªn trang web. Vá»›i Ä‘áº§u vÃ o lÃ  sá»‘ giÃ¢y. ThÃ¬ khi gáº·p task má»›i, nhÆ° má»™t thÃ³i quen cá»§a lÃ­nh má»›i, mÃ¬nh mÃ² lÃªn google Ä‘á»ƒ tÃ¬m cÃ¡ch lÃ m. Má»™t vÃ i bÃ i tháº£o luáº­n trÃªn <em>Stackoverflow</em> cÃ³ nÃ³i vá» váº¥n Ä‘á» nÃ y, cÃ¡ch mÃ  há» dÃ¹ng lÃ  táº¡o má»™t Ä‘á»‘i tÆ°á»£ng thuá»™c lá»›p <code class="highlighter-rouge">Time</code> vá»›i thá»i gian tá»« sá»‘ giÃ¢y cá»§a mÃ¬nh. NhÆ°ng háº¡n cháº¿ cá»§a nÃ³ lÃ  chá»‰ Ä‘Ãºng vá»›i thá»i gian trong má»™t ngÃ y, náº¿u sá»‘ giÃ¢y lá»›n hÆ¡n sá»‘ giÃ¢y cá»§a má»™t ngÃ y thÃ¬ sá»‘ giá» cá»§a ngÃ y bá»‹ lá»‘ Ä‘Ã³ bá»‹ cáº¯t máº¥t.</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="no">Time</span><span class="p">.</span><span class="nf">at</span><span class="p">(</span><span class="n">seconds</span><span class="p">).</span><span class="nf">utc</span><span class="p">.</span><span class="nf">strftime</span><span class="p">(</span><span class="s1">'%H:%M:%S'</span><span class="p">)</span>

<span class="c1"># Vá»›i seconds tá»« 0 tá»›i (86400 - 1) thÃ¬ káº¿t quáº£ Ä‘Ãºng</span>
<span class="c1"># --&gt; 53244s: "14:47:24"</span>
<span class="c1"># Vá»›i seconds lá»›n hÆ¡n giÃ¡ trá»‹ má»™t ngÃ y thÃ¬ khÃ´ng Ä‘Ãºng nhÆ° mong muá»‘n</span>
<span class="c1"># --&gt; 200000s: "07:33:20" (thay vÃ¬ "55:33:20")</span>
</code></pre></div></div>

<p>Tháº¿ nÃªn mÃ¬nh dao kÃ©o láº¡i theo kiá»ƒu náº¿u sá»‘ giÃ¢y lá»›n hÆ¡n má»™t ngÃ y thÃ¬ sáº½ láº¥y sá»‘ giá» trá»™i cá»™ng vá»›i sá»‘ giá» theo hÃ m cÅ© tÃ­nh tá»« sá»‘ giÃ¢y sau khi Ä‘Ã£ trá»« ra sá»‘ giá» trá»™i áº¥y, sau Ä‘Ã³ ghÃ©p láº¡i vá»›i Ä‘uÃ´i phÃºt vÃ  giÃ¢y.</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">hms_style</span><span class="p">(</span><span class="n">seconds</span><span class="p">)</span>
  <span class="n">hms</span>  <span class="o">=</span> <span class="no">Time</span><span class="p">.</span><span class="nf">at</span><span class="p">(</span><span class="n">seconds</span><span class="p">).</span><span class="nf">utc</span><span class="p">.</span><span class="nf">strftime</span><span class="p">(</span><span class="s1">'%H:%M:%S'</span><span class="p">)</span>
  <span class="n">days</span> <span class="o">=</span> <span class="n">seconds</span> <span class="o">/</span> <span class="no">Constant</span><span class="o">::</span><span class="no">SECONDS_IN_DAY</span>
  <span class="k">return</span> <span class="n">hms</span> <span class="k">if</span> <span class="n">days</span><span class="p">.</span><span class="nf">zero?</span>

  <span class="n">h</span><span class="p">,</span> <span class="n">m</span><span class="p">,</span> <span class="n">s</span> <span class="o">=</span> <span class="n">hms</span><span class="p">.</span><span class="nf">split</span><span class="p">(</span><span class="s1">':'</span><span class="p">)</span>
  <span class="s2">"</span><span class="si">#{</span><span class="n">h</span><span class="p">.</span><span class="nf">to_i</span> <span class="o">+</span> <span class="n">days</span> <span class="o">*</span> <span class="mi">24</span><span class="si">}</span><span class="s2">:</span><span class="si">#{</span><span class="n">m</span><span class="si">}</span><span class="s2">:</span><span class="si">#{</span><span class="n">s</span><span class="si">}</span><span class="s2">"</span>
<span class="k">end</span>

<span class="c1"># hms_style(200000) --&gt; "55:33:20" Bingo!</span>
</code></pre></div></div>

<p>Yeah, tháº¿ lÃ  xong, Ä‘Ã£ hoÃ n thÃ nh má»™t chá»©c nÄƒng Ä‘Æ¡n giáº£n, push code vÃ  chá» review thÃ´i.</p>

<p>â€¦</p>

<p>Má»™t ngÃ y lÃ m viá»‡c trÃ´i qua, tá»‘i vá» cÃ¡i suy nghÄ© vá» chá»©c nÄƒng Ä‘Æ¡n giáº£n áº¥y váº©n vÆ¡ trong Ä‘áº§u. Táº¡i sao khi áº­p vÃ´ lÃ m mÃ¬nh khÃ´ng chá»‹u suy nghÄ© vá» nÃ³ trÆ°á»›c mÃ  láº¡i bay Ä‘i há»i ngÆ°á»i khÃ¡c nhÆ° tháº¿. Tháº¿ thÃ¬ mÃ¬nh cÃ³ tÆ° duy Ä‘Æ°á»£c chÃºt nÃ o khÃ´ng, cÃ³ há»c Ä‘Æ°á»£c cÃ¡ch giáº£i quyáº¿t váº¥n Ä‘á» khÃ´ng, hay chá»‰ há»c Ä‘Æ°á»£c cÃ¡ch Äƒn cáº¯p vÃ  Ä‘áº¡o nhÃ¡i Ã½ tÆ°á»Ÿng. Tháº¿ lÃ  mÃ¬nh quyáº¿t Ä‘á»‹nh ngá»“i xuá»‘ng vÃ  suy nghÄ© láº¡i vá» nÃ³.</p>

<p>MÃ¬nh cáº£m nháº­n Ä‘Ã¢y Ä‘Æ¡n thuáº§n chá»‰ lÃ  xá»­ lÃ½ sá»‘ vÃ  chuyá»ƒn vá» kiá»ƒu chá»¯. DÃ¹ng tá»›i lá»›p <code class="highlighter-rouge">Time</code>ï»¿ chá»‰ lÃ  má»™t bÆ°á»›c dÃ¹ng sáºµn nhá»¯ng thá»© cÃ³ váº» lÃ  Ä‘Ãºng thÃ´i, vá»›i mÃ¬nh cÅ©ng cháº£ rÃµ bÃªn dÆ°á»›i cÃ¡i hÃ m Ä‘Ã³ thá»±c hiá»‡n nhá»¯ng gÃ¬ ná»¯a, liá»‡u lÃ m nhÆ° tháº¿ performance cÃ³ á»•n khÃ´ng vÃ  táº¡i sao láº¡i liÃªn quan Ä‘áº¿n lá»›p <code class="highlighter-rouge">Time</code>cÆ¡ chá»©.</p>

<p>NhÆ° nÃ y, vá»›i sá»‘ giÃ¢y Ä‘Ã³, mÃ¬nh cÃ³ tÃ­nh ra Ä‘Æ°á»£c phÃºt vá»›i giá» khÃ´ng. ÄÆ°á»£c, báº±ng cÃ¡ch chia nÃ³ cho 60 (sá»‘ giÃ¢y cá»§a má»™t phÃºt) Ä‘Æ°á»£c pháº§n nguyÃªn cá»§a thÆ°Æ¡ng lÃ  sá»‘ phÃºt, pháº§n dÆ° ra chÃ­nh lÃ  sá»‘ giÃ¢y. Sá»‘ giÃ¢y khÃ´ng cáº§n pháº£i xá»­ lÃ½ ná»¯a nÃªn sáº½ lÃ  pháº§n giÃ¢y cá»§a káº¿t quáº£. Sá»‘ phÃºt Ä‘Ã³ cÃ³ thá»ƒ lá»›n hÆ¡n 60, váº­y thÃ¬ ta chia tiáº¿p cho 60 (sá»‘ phÃºt cá»§a má»™t giá») tÆ°Æ¡ng tá»± nhÆ° trÆ°á»›c Ä‘á»ƒ cÃ³ Ä‘Æ°á»£c sá»‘ giá» vÃ  sá»‘ phÃºt trá»“i ra. Giá» vÃ  phÃºt nÃ y chÃ­nh lÃ  káº¿t quáº£ mÃ¬nh muá»‘n.</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">hms_style</span><span class="p">(</span><span class="n">sec</span><span class="p">)</span>
  <span class="n">min</span><span class="p">,</span> <span class="n">s</span> <span class="o">=</span> <span class="n">sec</span><span class="p">.</span><span class="nf">divmod</span> <span class="mi">60</span>
  <span class="n">h</span><span class="p">,</span> <span class="n">m</span> <span class="o">=</span> <span class="n">min</span><span class="p">.</span><span class="nf">divmod</span> <span class="mi">60</span>

  <span class="s2">"</span><span class="si">#{</span><span class="n">two_digits</span><span class="p">(</span><span class="n">h</span><span class="p">)</span><span class="si">}</span><span class="s2">:</span><span class="si">#{</span><span class="n">two_digits</span><span class="p">(</span><span class="n">m</span><span class="p">)</span><span class="si">}</span><span class="s2">:</span><span class="si">#{</span><span class="n">two_digits</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="si">}</span><span class="s2">"</span>
<span class="k">end</span>

<span class="kp">private</span>

<span class="c1"># Chuyá»ƒn tá»« má»™t chá»¯ sá»‘ sang hai chá»¯ sá»‘</span>
<span class="k">def</span> <span class="nf">two_digits</span><span class="p">(</span><span class="n">number</span><span class="p">)</span>
  <span class="s1">'%02i'</span> <span class="o">%</span> <span class="n">number</span>
<span class="k">end</span>
</code></pre></div></div>

<p>Yeah, Ä‘Æ¡n giáº£n hÆ¡n rá»“i. MÃ¬nh Ä‘Ã£ cÃ³ thá»ƒ tá»± suy nghÄ© vÃ  tá»± giáº£i quyáº¿t bÃ i toÃ¡n rá»“i.</p>

<p>ThÃªm ná»¯a, khi dÃ¹ng benchmark Ä‘á»ƒ Ä‘o thÃ¬ hÃ m má»›i nÃ y nhanh hÆ¡n hÃ m cÅ© ráº¥t nhiá»u. Ahihi. ğŸ¤©</p>

<p><img src="/assets/images/hms-bench.png" alt="HMS benchmark" class="center-image" /></p>

<p>CÃ¡m Æ¡n Ä‘Ã£ Ä‘á»c bÃ i, cÃ³ gÃ¬ thÃ¬ tham gia bÃ¬nh luáº­n cho vui hÃ©n.</p>

  </div><a class="u-url" href="/rails/2019/01/19/chuyen-tu-giay-sang-dinh-dang-hhmmss.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">driedjack</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">driedjack</li><li><a class="u-email" href="mailto:driedjack@gmail.com">driedjack@gmail.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/driedjack"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">driedjack</span></a></li><li><a href="https://www.twitter.com/driedjack"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">driedjack</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>LÃ  tÃªn  cá»§a tÃ´i.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
